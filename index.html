<html lang="en"><head>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0, shrink-to-fit=no">


    <!-- preloader css -->
    <link rel="stylesheet" href="/apps/common/css/preloader.min.css" type="text/css">
    <!-- Bootstrap Css -->
    <link href="/apps/common/css/bootstrap.min.css" id="bootstrap-style" rel="stylesheet" type="text/css">

    <link href="/apps/common/css/sweetalert2.min.css" rel="stylesheet" type="text/css">
    <!-- Icons Css -->
    <link href="/apps/common/css/icons.min.css" rel="stylesheet" type="text/css">


    <!-- App Css-->
    <link href="/apps/common/css/app.min.css" id="app-style" rel="stylesheet" type="text/css">


	<title>PHPCoin Miner</title>

    <style>
        body.phpcoin #page-topbar {
            display: none; }
        body.phpcoin .topnav {
            margin-top: 0;
        }
        body.phpcoin .page-content {
            margin-top: 0 !important; }
        body.phpcoin .navbar-brand img {
            height: 40px;
            width: auto; }
        body.phpcoin .hash {
            display: flex;
            width: 100px;
            height: 16px;
            cursor: pointer; }
        body.phpcoin .hash div {
            flex: 1; }
        body.phpcoin .node-score {
            width: 80px;
            height: 16px; }

        table.dataTable > thead > tr > th:not(.sorting_disabled),
        table.dataTable > thead > tr > td:not(.sorting_disabled) {
            padding-right: 30px; }

        table.dataTable > thead .sorting,
        table.dataTable > thead .sorting_asc,
        table.dataTable > thead .sorting_desc,
        table.dataTable > thead .sorting_asc_disabled,
        table.dataTable > thead .sorting_desc_disabled {
            cursor: pointer;
            position: relative; }

        table.dataTable > thead .sorting:before, table.dataTable > thead .sorting:after,
        table.dataTable > thead .sorting_asc:before,
        table.dataTable > thead .sorting_asc:after,
        table.dataTable > thead .sorting_desc:before,
        table.dataTable > thead .sorting_desc:after,
        table.dataTable > thead .sorting_asc_disabled:before,
        table.dataTable > thead .sorting_asc_disabled:after,
        table.dataTable > thead .sorting_desc_disabled:before,
        table.dataTable > thead .sorting_desc_disabled:after {
            position: absolute;
            bottom: 0.3em;
            display: block;
            opacity: 0.3; }

        table.dataTable > thead .sorting:before,
        table.dataTable > thead .sorting_asc:before,
        table.dataTable > thead .sorting_desc:before,
        table.dataTable > thead .sorting_asc_disabled:before,
        table.dataTable > thead .sorting_desc_disabled:before {
            right: 1em;
            content: "↑"; }

        table.dataTable > thead .sorting:after,
        table.dataTable > thead .sorting_asc:after,
        table.dataTable > thead .sorting_desc:after,
        table.dataTable > thead .sorting_asc_disabled:after,
        table.dataTable > thead .sorting_desc_disabled:after {
            right: 0.5em;
            content: "↓"; }

        table.dataTable > thead .sorting_asc:before,
        table.dataTable > thead .sorting_desc:after {
            opacity: 1; }

        table.dataTable > thead .sorting_asc_disabled:before,
        table.dataTable > thead .sorting_desc_disabled:after {
            opacity: 0; }

        #peers-menu {
            max-height: 80vh;
            overflow-y: auto;
        }
    </style>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-0PW26G05V9"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-0PW26G05V9');
    </script>


</head>



<body class="pace-done phpcoin" data-layout="horizontal" data-layout-mode="light" data-sidebar-size="sm"><div class="pace pace-inactive"><div class="pace-progress" data-progress-text="100%" data-progress="99" style="transform: translate3d(100%, 0px, 0px);">
  <div class="pace-progress-inner"></div>
</div>
<div class="pace-activity"></div></div>

<!--    layout-wrapper-->
    <div id="layout-wrapper">

        <div class="topnav">
            <div class="container-fluid">
                <nav class="navbar navbar-light navbar-expand-lg topnav-menu">

                    <button type="button" class="btn btn-sm px-3 font-size-16 d-lg-none waves-effect waves-light" data-bs-toggle="collapse" data-bs-target="#topnav-menu-content">
                        <i class="fa fa-fw fa-bars"></i>
                    </button>

                    <a class="navbar-brand" href="https://phpcoin.net" target="_blank">
                        <img src="/apps/common/img/logo.png" alt="" class="d-inline-block">
                        <span class="logo-txt text-primary">
                            PHPCoin                        </span>
                    </a>

                    <div class="collapse navbar-collapse d-lg-flex justify-content-between" id="topnav-menu-content">
                        <ul class="navbar-nav d-flex">
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle arrow-none" href="/" id="topnav-dashboard" role="button">
                                    <i class="fas fa-home me-2"></i><span data-key="t-dashboards">Home</span>
                                </a>
                            </li>
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle arrow-none" href="/apps/explorer" id="topnav-dashboard" role="button">
                                    <i class="fas fa-binoculars me-2"></i><span data-key="t-dashboards">Explorer</span>
                                </a>
                            </li>
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle arrow-none " href="/dapps.php?url=PeC85pqFgRxmevonG6diUwT4AfF7YUPSm3/" id="topnav-dashboard" role="button">
                                    <i class="fas fa-cubes me-2"></i><span data-key="t-dashboards">Dapps</span>
                                </a>
                            </li>

                        </ul>
                        <ul class="navbar-nav d-flex">
                                                            <li class="nav-item dropdown">
                                    <a class="nav-link dropdown-toggle arrow-none" title="PqEoRzyyC9XiFEeqnDqagqqfutucVDKGBE" href="/apps/explorer/address.php?address=PqEoRzyyC9XiFEeqnDqagqqfutucVDKGBE" role="button" target="_blank">
                                        <i class="fas fa-user me-2"></i>
                                        <span>
                                            PqEoRz...VDKGBE                                        </span>
                                    </a>
                                </li>
                                <li class="nav-item dropdown">
                                    <span class="nav-link">
                                        <i class="fas fa-coins me-2"></i>
                                        <span>
                                            0.00900000                                        </span>
                                    </span>
                                </li>
                                <li class="nav-item d-flex align-items-center">
                                    <a href="/dapps.php?url=PeC85pqFgRxmevonG6diUwT4AfF7YUPSm3/miner?action=top_logout&amp;redirect=%2Fdapps.php%3Furl%3DPeC85pqFgRxmevonG6diUwT4AfF7YUPSm3%2Fminer" class="btn btn-outline-primary">Logout</a>
                                </li>
                                                        <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle arrow-none" id="mode-setting-btn" href="#" role="button">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon icon-lg layout-mode-dark"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun icon-lg layout-mode-light"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>
                                    Theme
                                </a>
                            </li>
                        </ul>
                    </div>
                </nav>
            </div>
        </div>

<!--        main-content-->
        <div class="main-content">
<!--            page-content-->
            <div class="page-content">
<!--                container-->
                <div class="container-fluid">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/c3/0.7.20/c3.min.css" integrity="sha512-cznfNokevSG7QPA5dZepud8taylLdvgr0lDqw/FEZIhluFsSwyvS81CMnRdrNSKwbsmc43LtRd2/WMQV+Z85AQ==" crossorigin="anonymous" referrerpolicy="no-referrer">
<div id="app" style="visibility: visible;"><div class="card"><div class="card-header d-flex justify-content-between"><div><h4 class="card-title">Web mining</h4></div></div> <div class="card-body p-0"><form id="miningConfig" class="collapse show p-4"><div class="mb-1"><label for="node" class="form-label">Node</label> <input type="text" id="node" class="form-control"></div> <div class="mb-1"><label for="public_key" class="form-label">Address</label> <div class="row"><div class="col-md-6"><input type="text" id="public_key" readonly="readonly" class="form-control"></div></div> <div class="help-block text-muted text-info">
                            In order to mine with address you must have recorded sent transaction on blockchain
                        </div></div></form></div> <div class="card-footer bg-transparent border-top text-muted"><div class="row"><div class="col-md-6"><button class="btn btn-success">Start</button> <!----> <!----></div> <!----></div></div></div> <!----></div>
<script src="/apps/common/js/vue.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.16.0/d3.min.js" integrity="sha512-FHsFVKQ/T1KWJDGSbrUhTJyS1ph3eRrxI228ND0EGaEp6v4a/vGwPWd3Dtd/+9cI7ccofZvl/wulICEurHN1pg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.7.20/c3.min.js" integrity="sha512-+IpCthlNahOuERYUSnKFjzjdKXIbJ/7Dd6xvUp+7bEw0Jp2dg6tluyxLs+zq9BMzZgrLv8886T4cBSqnKiVgUw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>



<script type="text/javascript">

    let development = false;

    let hashingConfig = {
        mem: 32768,
        time: 2,
        parallelism: 1    }

    var app = new Vue({
        el: '#app',
        data: {
            address: 'PqEoRzyyC9XiFEeqnDqagqqfutucVDKGBE',
            privateKey: null,
            node: 'https://m1.phpcoin.net',
            disabled: false,
            miner: {},
            running: false,
            miningStat: {},
            chart : null,
            webMiner: null,
            cpu: 0,
            loggedIn: 1        },
        mounted() {
            this.$el.style.visibility = 'visible'
            let miningStat = localStorage.getItem('miningStat')
            if(miningStat) {
                try {
                    miningStat = JSON.parse(miningStat)
                } catch (e) {
                }
            }
            this.miningStat = miningStat
            if(!this.loggedIn) {
            this.address = localStorage.getItem('address')
            }
            this.cpu = localStorage.getItem('cpu') || 0
        },
        methods: {
            setupMiner() {

                this.webMiner = new Worker('/apps/common/js/worker.js?time='+Date.now());
                this.webMiner.addEventListener('message', (e) => {
                    let cmd = e.data.cmd
                    if(cmd === 'EVENT') {
                        let event = e.data.event
                        let data = e.data.data
                        if(event === 'onMinerUpdate') {
                            this.miner = data.miner
                            this.miningStat = data.miningStat
                            localStorage.setItem('miningStat', JSON.stringify(this.miningStat))
                            if(data.miner.attempt === 0) {
                                this.resetChart(data.miner.block_date)
                            } else {
                                this.updateChart(data.miner)
                            }
                        }
                    }
                    if(cmd === 'checkAddressResponse') {
                        let response = e.data.response
                        if(!response) {
                            Swal.fire(
                                {
                                    title: 'Address not found',
                                    text: 'You must have recorded sent transaction on blockchain in order to start mining',
                                    icon: 'error'
                                }
                            )
                        } else {
                            this.running = true
                            $("#miningConfig").collapse('hide')
                            this.webMiner.postMessage({cmd:'START'})
                        }
                    }
                }, false);

                let options = {cpu: this.cpu, hashingConfig, block_time: 60, miningStat: this.miningStat, development}
                this.webMiner.postMessage({cmd:'INIT', params:{
                        node: this.node,
                        address: this.address,
                        options}});
            },
            stopMiner() {
                this.running = false
                $("#miningConfig").collapse('show')
                this.webMiner.postMessage({cmd:'STOP'})
            },
            async startMiner() {
                this.address = this.address && this.address.trim()
                if(!this.address) {
                    Swal.fire(
                        {
                            title: 'Address required!',
                            text: 'Please fill valid address',
                            icon: 'error'
                        }
                    )
                    return
                }
                localStorage.setItem('address', this.address)
                localStorage.setItem('cpu', this.cpu)
                this.setupMiner()
                this.webMiner.postMessage({cmd:'checkAddress', params: {address: this.address}})
            },
            resetChart(start) {
                this.chart = c3.generate({
                    bindto: '#chart',
                    data: {
                        x: 'x',
                        columns: [
                            ['x'],
                            ['hit'],
                            ['target']
                        ],
                        xFormat: null,
                        types: {
                            hit: 'step'
                        }
                    },
                    axis: {
                        x: {
                            type: "timeseries",
                            tick: {
                                format: (x) => {
                                    return Math.round(x.getTime()/1000) - start;
                                }
                            }
                        }
                    },
                    grid: {
                        x: {
                            lines: [
                                {value: (start + 60)*1000, text: 'Target time'}
                            ]
                        }
                    },
                    point: {
                        show: false
                    }
                });
            },
            updateChart(miner) {
                this.chart.flow({
                    columns: [
                        ['x', Date.now()],
                        ['hit', miner.hit],
                        ['target', miner.target]
                    ],
                    length:0,
                    duration: 0
                })
            },
            resetStats() {
                if(!confirm('Confirm?')) {
                    return
                }
                localStorage.removeItem('miningStat')
                localStorage.removeItem('address')
                localStorage.removeItem('cpu')
                this.webMiner.postMessage({cmd:'resetStat'})
            },
            updateMinerCpu() {
                localStorage.setItem('cpu', this.cpu)
                this.webMiner.postMessage({cmd:'updateCpu', params: {cpu: this.cpu}})
            }
        }
    })


</script>

</div>
</div>
<footer class="footer">
    <div class="container-fluid">
        <div class="row">
            <div class="col-sm-6 text-center text-md-start mb-2 mb-sm-0">
	            PHPCoin - MAINNET - 1.1.46.332            </div>
            <div class="col-sm-6 text-center text-md-end mb-2 mb-sm-0 text-break">
                0c8a2de3e67ee7aada8375942515eea9869c8269b029e7a27fbfd35825b13929            </div>
        </div>
    </div>
</footer>



</div>


</div>
<span id="layout-horizontal"></span>
<span id="layout-mode-dark"></span>
<span id="layout-mode-light"></span>
<span id="layout-width-fuild"></span>
<span id="layout-position-fixed"></span>
<span id="topbar-color-light"></span>
<span id="sidebar-size-default"></span>
<span id="sidebar-color-light"></span>
<span id="layout-direction-ltr"></span>
<span id="sidebar-color-dark"></span>
<span id="topbar-color-dark"></span>


<!-- JAVASCRIPT -->
<script src="/apps/common/js/jquery.min.js"></script>
<script src="/apps/common/js/bootstrap.bundle.min.js"></script>
<script src="/apps/common/js/metisMenu.min.js"></script>
<script src="/apps/common/js/simplebar.min.js"></script>
<script src="/apps/common/js/waves.min.js"></script>
<script src="/apps/common/js/feather.min.js"></script>
<!-- pace js -->
<script src="/apps/common/js/pace.min.js"></script>
<script src="/apps/common/js/sweetalert2.min.js"></script>

<script src="/apps/common/js/app.js"></script>
<script>

    function setCookie(name,value,days) {
        var expires = "";
        if (days) {
            var date = new Date();
            date.setTime(date.getTime() + (days*24*60*60*1000));
            expires = "; expires=" + date.toUTCString();
        }
        document.cookie = name + "=" + (value || "")  + expires + "; path=/";
    }

    $(function(){


        $('#mode-setting-btn').on('click', function (e) {
            let theme = $('body').attr('data-layout-mode');
            setCookie('theme', theme, 3);
        });

    });

</script>



</body></html>
